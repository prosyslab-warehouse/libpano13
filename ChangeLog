2006-04-14  dmg  <dmg@hydrogen.dmg>

	* Patch by Pablo de Angelo to support a callback for error and
	progress reporting. Committed by Bruno Postle.

2006-04-10  dmg  <dmgerman@uvic.ca>

	* Released version 0.4 of PTblender and PTmender.
	
	* toos/README.PTmender: updated it.
	
	* tools/PTmender.h: removed some prototypes from the file that
	belong now to PTcommon.h
	
	* tools/PTmender.c: added support for flattening tiffs (including,
	by extension, JPG and PNG support).
	
	* tools/PTcommon.h: moved pt_tiff_parms into it, moved some
	prototypes from tools/PTmender.h
	
	* tools/PTcommon.c: Added blending of TIFFs into a single
	one. JPG creation.
	
	* tools/PTblender.c: added JPG creation.

2006-04-09  dmg  <dmgerman@uvic.ca>

	* rgbe.c: Replaced #include <malloc.h> with <stdlib.h> to avoid
	MacOS compilation error

2006-02-21 10:19:20  dmg  (dmg)

	* tools/PTcommon.c, tools/ChangeLog: 06-02-21  dmg
	<dmgerman@uvic.ca>

	* PTcommon.c: Replaced InsertFileName with the one from ptpicker.c
	(patch submitted by Max Lyons)

2006-02-20 19:07:22  dmg  (dmg)

	* tools/ChangeLog: Fixed spelling mistake in ChangeLog

	* tools/ChangeLog, tools/PTcommon.c, tools/PTmender.c,
	tools/PTtiff2psd.c: 2006-02-20	dmg  <dmgerman@uvic.ca>

	* PTcommon.c (AddStitchingMasks): Removed exit that I was using
	during debugging.

	* PTtiff2psd.c (PT_TIFF2PSD_USAGE): Added name of default
	output file.

	* PTmender.c (ComputeStitchingMask8bits,
	ComputeStitchingMask16bits,
	ComputeStitchingMask,SetBestAlphaChannel16bits,
	SetBestAlphaChannel8bits, CalculateAlphaChannel,
	ApplyFeather8bits, ApplyFeather16bits, ApplyFeather): Removed
	functions, they are  already in PTcommon.c

	* PTmender.c: Removed test code for TEST_ENABLE_COLOUR_CORRECTION

	Changes submitted by Max Lyonx:

	* PTcommon.c: Moved InsertFileName to this file from
	PTmender.c. It should be compiled only under Windows.

	* PTmender.c (main): Changed 0x6f for 'o'.

	* tools/PTcommon.c, tools/PTcommon.h: I forgot to commit these
	files

2006-02-17 17:56:04  dmg  (dmg)

	* tools/ColourBrightness.c, tools/Makefile.am, tools/PTblender.c,
	tools/PTmender.c, tools/PTmender.h, tools/PTtiff2psd.c,
	tools/ChangeLog: 2006-01-23  dmg  <dmgerman@uvic.ca>

	* PTblender.c (main): There was an extra colon in the spec of
	the command line options (reported by josh at joshdoe com)

	* PTcommon.c (SetBestAlphaChannel8bits): Fixed minor bug.

	2006-01-20  dmg  <dmgerman@uvic.ca>

	* Makefile.am (bin_PROGRAMS): Added PTtiff2psd.

	* PTblender.c (main): Freed pointers. Added call to
	VerifyTiffsAreCompatible.  Added include to PTcommon.h

	* PTmender.h: Moved quietFlag from this one to PTcommon.h

	* PTmender.c: Added include to PTcommon.h, extracted CreatePSD,
	and CreateStitchingMasks.

	* PTtiff2psd.c: Created program.

	* PTcommon.h (VerifyTiffsAreCompatible): Created file, added
	prototypes.

	* PTcommon.c (VerifyTiffsAreCompatible): Created file, and
	added function. Moved CreatePSD and CreateStitchingMasks from
	PTmender.c.

2006-01-20 04:02:35  dmg  (dmg)

	* tools/ChangeLog, tools/PTblender.c: 06-01-19	dmg
	<dmgerman@uvic.ca>

	* PTblender.c (main): If no files were specified in the command
	line, then print usage.

	* tools/ChangeLog, tools/ColourBrightness.c,
	tools/ColourBrightness.h, tools/Makefile.am, tools/PTblender.c,
	tools/PTmender.c: 2006-01-19  dmg  <dmgerman@uvic.ca>

	* PTmender.c (main): Used PATH_SEP instead of / to get it to
	work under Windogs.  (CreateStitchingMasks): Removed unnecessary
	assert.

	* PTblender.c: Added program.

	* PTmender.c (CreatePanorama): Changed call to ColourBrightness
	to match new prototype. See below.  Moved ReplaceExt from to
	ColourBrightness.

	* ColourBrightness.h: Changed prototypes (see below).

	* ColourBrightness.c (CorrectFileColourBrightness): Add an
	extra parameter to handle different input and output file names.
	(ColourBrightness): Added an extra parameter to handle different
	input and output filename. If the input filename is different
	from output, then process file.  (ReplaceExt): Moved it here
	from PTmender.c

2006-01-16 01:01:58  dmg  (dmg)

	* tools/ChangeLog, tools/ColourBrightness.c: Removed useless
	comments

	* tools/ChangeLog, tools/ColourBrightness.c: Fixed a bug in
	Unknown49

	* tools/ChangeLog: Minor edit change

	* tools/ChangeLog, tools/PTmender.c: 2006-01-15  dmg
	<dmgerman@uvic.ca>

	* PTmender.c (CreatePanorama): Found a bug. strcmp
	did not include ==0.  (ComputeStitchingMask8bits):
	Implemented function.  (CalculateAlphaChannel): Implemented
	function.  (SetBestAlphaChannel8bits): Implemented function.
	(CreateStitchingMasks): Found an error: Progress returns zero
	when not error, not !=0. Also, I forgot return -1 (ApplyFeather):
	Implemented function.  (SetBestAlphaChannel8bits): Fixed a bug
	in the function. Wrong condition in loop.  (PT_MENDER_VERSION):
	Bumped version to 0.3. Released.

	2006-01-14  dmg  <dmgerman@uvic.ca>

	* PTmender.c (CreatePSD): Implemented function.
	(TiffSetImageParameters): Added function.  (CreateStitchingMasks):
	Implemented function.  (ComputeStitchingMask): Implemented
	function.

2006-01-15 06:59:44  dwilkins42  (dwilkins42)

	* Makefile.am, configure.ac: Add endian check. OS check only is
	not sufficient

2006-01-12 19:27:27  dmg  (dmg)

	* tools/ChangeLog, tools/ColourBrightness.c, tools/PTmender.c:
	2006-01-12  dmg  <dmgerman@uvic.ca>

	* ColourBrightness.c: Remove fprintfs

	* PTmender.c: Enabled colour correction. Ready for
	testing. Upgraded version to 0.2: "the Enlightment"

	* ColourBrightness.c (Unknown40): Fixed another bug. This time
	it was the data type of a variable. It was double, not integer!

	* tools/ChangeLog, tools/ColourBrightness.c,
	tools/ColourBrightness.h, tools/PTmender.c, tools/README.PTmender:
	006-01-12  dmg	<dmgerman@uvic.ca>

	* PTmender.c (CreatePanorama): Reduced the size of the cache
	to 500kbytes

	* ColourBrightness.c: Improved readibility of many functions.
	(RemapHistogram): Another bug. Divided a/b instead of b/a.

	2006-01-11  dmg  <dmgerman@uvic.ca>

	* ColourBrightness.c: (ComputeColourBrightnessCorrection)
	Found another bug (limit of for loop was < 0xff not <= 0xff).
	(ComputeColourBrightnessCorrection): Cleaned up the function,
	renamed variables to make them meaninful. Killed another
	bug. Again, a/b instead of b/a (CorrectFileColourBrightness):
	Another bug. Missundertood return value from readTIFF: it is zero
	when success, -1 when it is not.  (CorrectImageColourBrigthness):
	Another bug. im->data is a pointer to the pointer to the
	actual data, not a pointer to the data!  Took advante of the
	editing and cleaned up the code and renamed some veriables.
	(DisplayHistogramsError): Refactored this function from
	ColourBrightness.

	* ColourBrightness.h, ColourBrightness.c: Renamed Unknown41 to
	ComputeAdjustmentCurve. Renamed Unknown37 to RemapHistogram. I
	have added assertions and debug code everywhere. Renamed Unknown33
	to MapFunction. Updated callers accordingly.

	2006-01-10  dmg  <dmgerman@uvic.ca>

	* ColourBrightness.c: (ComputeColourBrightnessCorrection):
	Another bug: incorrect number of daisies.

2006-01-10 12:27:27  dmg  (dmg)

	* tools/ChangeLog, tools/ColourBrightness.c, tools/Makefile.am,
	tools/PTmender.c, tools/README.PTmender: 1-10  dmg
	<dmgerman@uvic.ca>

	* ColourBrightness.c: I changed all mallocs to callocs. I also
	added and removed some debug messages, and added optional use
	of the dmalloc library.  (InitializeMagnolia): fixed a bug. I
	had allocated sizeof(pointer) rather than sizeof(thing pointed
	by pointer). What an amateur!  (ColourBrightness): Another bug,
	I was freeing an incorrect number of histograms.  (Unknown33):
	Fixed another bug. I referenced last element as array[n] instead
	of the correct way array[n-1].	(Unknown37): Another bug 2 bugs. I
	had missed a set of parenthesis in an expression. The next line
	had a couple of errors too.  (FreeHistograms): Another bug. One
	free  was in the wrong place.

	* README.PTmender: Updated it.

	* PTmender.c (CreatePanorama): Disabled code for colour
	correction.

	* Makefile.am (AM_CPPFLAGS): Added flags for TIFF and JPEG to
	the compilation of the programs.

2006-01-09 21:54:36  brunopostle  (brunopostle)

	* configure.ac: update version to 2.8.0

2006-01-09 19:55:02  dmg  (dmg)

	* tools/ChangeLog, tools/ColourBrightness.c,
	tools/ColourBrightness.h, tools/PTmender.c, tools/README.PTmender:
	2006-01-09  dmg  <dmgerman@uvic.ca>

	* PTmender.c (CreatePanorama): Fixed a bug that affected cropped
	images. I think TIFF_m is ready for the masses. The tests I have
	performed are promising.  (main): Added a Version message for
	its official release. Initial release: 0.1

	* ColorBrightness.c, ColorBrightness.h: First bug: I got burned
	by the fact that chars are by default signed. I changed any use
	of char to unsigned.

	* tools/ColourBrightness.c, tools/ColourBrightness.h,
	tools/ChangeLog, tools/Makefile.am, tools/PTmender.c: 2006-01-09
	dmg  <dmgerman@uvic.ca>

	* Makefile.am (PTmender_SOURCES): Added colourBrightness.*
	to PTmender

	* PTmender.c: Renamed CreatePanorama, removed old function stub

	* ColorBrightness.c, ColorBrightness.h: added files. All the
	functions for colourBrightness have been created, but they do
	not work.

	2006-01-04  dmg  <dmgerman@uvic.ca>

	* PTmender.c (main): Fixed another bug, in the case that no files
	were specified in the command line.  (ARGtoRGBAImage): Fixed
	another bug (a line I duplicated, but that I did not update).
	(CreatePanorama): Replaced assertion on colourCorreection. I
	had misinterpreted what the value was.

2005-12-25 03:14:42  dmg  (dmg)

	* tools/Makefile.am: I really removed -Wall -g this time

	* tools/.cvsignore, tools/ChangeLog, tools/Makefile.am,
	tools/PTmender.c: 2005-12-25  dmg  <dmgerman@uvic.ca>

	* PTmender.c (main,CreatePanorama): Fixed 5 more bugs. I am able
	to stitch the first one photo panorama!

	* tools/ChangeLog, tools/Makefile.am, tools/PTmender.c,
	tools/PTmender.h: 005-12-24  dmg  <dmgerman@uvic.ca>

	* Makefile.am: Removed -Wall from make process

	* PTmender.c (main): Fixed 3 bugs.  (CreatePanorama): Fixed 2 bugs

2005-12-23 00:59:10  dmg  (dmg)

	* tools/ChangeLog: fixed minor typo in ChangeLog

	* tools/ChangeLog, tools/PTmender.c: 2005-12-23  dmg
	<dmgerman@uvic.ca>

	* PTmender.c (CreatePanorama): It appears now to be complete. We
	have all the code for TIFF_m without brightness adjustement. Time
	to start planning the testing phase.

2005-12-22 23:27:47  dmg  (dmg)

	* tools/ChangeLog, tools/PTmender.c, tools/PTmender.h: 2005-12-22
	dmg  <dmgerman@uvic.ca>

	* PTmender.h: Renamed Unknown09 to
	Clear_Area_Outside_Selected_Region

	* PTmender.c (Clear_Area_Outside_Selected_Region): Created
	function. This completes all the functions needed for TIFF_m.

2005-12-21 23:38:34  dmg  (dmg)

	* tools/ChangeLog, tools/Makefile.am, tools/PTmender.c,
	tools/PTmender.h: 2005-12-21  dmg  <dmgerman@uvic.ca>

	* PTmender.h (InsertFileName): added prototype.

	* Makefile.am (PTmender_LDADD): We now require the tiff
	library too.  (AM_CFLAGS): Added -Wall. I need to catch _any_
	potential error.

	* PTmender.c, PTmender.h (ARGtoRGBAImage): Renamed Unknown08 to
	ARGtoRGBAImage and implemented it.

	* tools/ChangeLog, tools/Makefile.am, tools/PTmender.c: 2005-12-21
	dmg  <dmgerman@uvic.ca>

	* I forgot that OS X is case insensitive (even though it is case
	preserving). I have renamed ptmender.h to PTmender.h. Updated
	Makefile.am and PTmender.c (thanks to Bruno Postle for noticing
	this).

	* PTmender.c (CreatePanorama): Fixed some bugs during code review
	of CreatePanorama (CreatePanorama): Changed name of Unknown28
	to Colour_Brightness

	* tools/PTmender.h, tools/ptmender.h: renamed ptmender.h to
	PTmender.h

	* tools/ChangeLog, tools/README.PTmender: 2005-12-21  dmg
	<dmgerman@uvic.ca>

	* README.PTmender: Added an explanation of its command line
	options.

	* tools/PTmender.c, tools/ptmender.h, tools/ChangeLog: 2005-12-21
	dmg  <dmgerman@uvic.ca>

	* PTmender.c (main): Completed main.  (sorting_function): Added
	it to sort files if -s

2005-12-20 15:43:49  dmg  (dmg)

	* tools/.cvsignore, tools/ChangeLog, tools/Makefile.am,
	tools/PTmender.c, tools/README.PTmender, tools/ptmender.h:
	2005-12-20  dmg  <dmgerman@uvic.ca>

	* README.PTmender: Added this file.

	* PTmender.c, PTmender.h: I created these two files. Created the
	functions ReplaceExt, InsertFileName, and CreatePanorama. It
	has also all the skeletons to all the functions that need to
	be rewritten.

	* Modified Makefile.am to add PTStitcher. The program currently
	compiles, but does nothing.

	* Created the ChangeLog.

2005-12-13 04:04:21  jim0watters  (jim0watters)

	* makefile.win32: added missing ZComb.o

2005-12-07 04:42:55  jim0watters  (jim0watters)

	* tools/PTStitcher.cpp, tools/PTStitcher.vcproj: Add
	PTstitcher.exe helper tool This is to replace the original
	PTstitcher

	* tools/PTpano12.dsp, tools/PTpano12.vcproj,
	tools/PTpano12_readme.txt, tools/ptpano12.cpp, tools/ptpano12.def,
	tools/ptpano12.h: Add too PTpano12 This tool will intercepts
	calls, displays info, and then calls original pano12.dll with
	the same parameters.  It then passes back the return values back
	to the original caller.

2005-11-25 07:07:34  jim0watters  (jim0watters)

	* version.h: update to ver 2.8

2005-11-24 11:14:58  brunopostle  (brunopostle)

	* ChangeLog: Updated chnagelog from CVS commit messages

	* configure.ac: updated to 2.7.0.14 release

2005-11-23 04:46:13  jim0watters  (jim0watters)

	* version.h: update to ver .14

	* sys_win.c: MSVS memory tracking tools

	* sys_win.h: remove build warning

	* adjust.c, parser.c: fix possible double delete or delete of null

2005-11-16 12:40:52  brunopostle  (brunopostle)

	* ChangeLog: updated from cvs commit messages

	* configure.ac: updated to 2.7.0.13 release

2005-11-16 06:47:08  jim0watters  (jim0watters)

	* version.h: update to ver .13

	* libpano.vcproj: do not use MSVCP71.DLL

	* ZComb.c: Fix "Bounds error"

2005-11-09 12:31:51  brunopostle  (brunopostle)

	* configure.ac: updated configure.ac to version 2.7.0.12

2005-11-09 05:42:16  jim0watters  (jim0watters)

	* adjust.c, filter.h, resample.c, seamer_.c, version.h: Fix
	inverse transform Add number to aa_transform Increase ver to .12

	* math.c: fix 64bit process slow down

	* parser.c, tiff.c: fix possible memory leak / double free

2005-11-03 11:54:31  brunopostle  (brunopostle)

	* Makefile.am: Add Xcode project files to dist archive target

2005-10-27 03:13:37  jim0watters  (jim0watters)

	* doc/Optimize.txt, doc/stitch.txt: Added Antialiasing filter
	numbers

	* libpano.vcproj: Updated Windows project

2005-10-26 00:19:27  jim0watters  (jim0watters)

	* resample.c: Added the dual-color modes to the transform_aa
	and cleaned the code, rename 4 variables...

2005-10-24 03:27:23  jim0watters  (jim0watters)

	* PanoTools.pbproj.tgz: A project file for Apple's "XCode" IDE,
	for developers who like to use Apple's tool.

	* adjust.c, filter.h, resample.c: combine makePano with MyMakePano
	and transform with MyTransform to remove duplicate code and
	prepair to make MyTransform multiprocessor aware

2005-10-23 05:20:25  jim0watters  (jim0watters)

	* resample.c, resample.c, NEWS: alpha mask threshold bug fix

2005-10-22 03:58:52  jim0watters  (jim0watters)

	* NEWS, AUTHORS, correct.c, queryfeature.c, resample.c, version.h:
	Do not process unchanged color channels for CA correction

2005-10-19 03:06:32  jim0watters  (jim0watters)

	* AUTHORS, NEWS, version.h: update changes

	* adjust.c, filter.h, panorama.h, parser.c, queryfeature.c,
	resample.c: ByThomas Rauscher, Added antialiasing filters

	* file.c, filter.c, tiff.c: ByThomas Rauscher, Added support
	32bit float files

2005-10-18 23:33:24  jim0watters  (jim0watters)

	* bmp.c: allow to read both top to bottom or bottom to top
	BMP files

	* panorama.h: remove incorrect filer_main()

2005-05-22 12:44:04  dwilkins42  (dwilkins42)

	* version.h: Update all versions

	* configure.ac, filter.c, queryfeature.c, version.h: Correct
	behaviour for mode=_usedata

2005-05-18 13:40:39  brunopostle  (brunopostle)

	* NEWS, configure.ac, version.h: Changed version to 2.7.0.10
	for release

2005-05-12 02:24:07  jim0watters  (jim0watters)

	* libpano.vcproj: update for VC .Net

2005-05-07 15:17:07  dwilkins42  (dwilkins42)

	* lmdif.c, multilayer.c, panotypes.h, pteditor.c, ptpicker.c,
	resample.c, sys_ansi.c: Explicitly mark unused variables and
	remove GCC warning

2005-05-05 05:06:51  dwilkins42  (dwilkins42)

	* queryfeature.c: Modify sense of Java test

2005-05-04 15:08:57  dwilkins42  (dwilkins42)

	* ChangeLog: Update ChangeLog

	* filter.c: Use 64 bit clean data types. Use 64 bit safe casts.

	* file.c: Use decimal instead of hex constants

	* pan.c: Use 64 bit safe casts.

	* PTDialogs.c: Correct typo

	* perspect.c: Use 64 bit clean data types.

	* morpher.c, jpeg.c, fourier.c: Use 64 bit clean data types. Use
	64 bit safe casts.

	* file.c: Use 64 bit clean data types. Use 64 bit safe
	casts. Rename READLONG and WRITELONG to READINT32 and WRITEINT32
	to accurately reflect their purpose.

	* correct.c: Use 64 bit safe casts.

	* sys_ansi.c, sys_win.c: Use 64 bit clean parameter declarations.

	* tiff.c: Use 64 bit clean data types and types defined in tiff.h
	where appropriate

	* resample.c: Use 64 bit clean data types.

	* queryfeature.c: Use 64 bit clean data types. Use 64 bit safe
	const instead of define

	* ppm.c: Use 64 bit clean data types. Use correct format
	specifiers for 32/64 bit

	* parser.c: Use correct format specifiers for 32/64 bit

	* panorama.h, filter.h: use 64 bit clean types

	* fftn.h, fftn.c: Correct data widths for 32/64 bit use

	* Triangulate.c: Use floating point version of abs() to avoid
	conversion errors

	* tools/panoinfo_unix.c: gcc 2.95 on ppc barfs if local variables
	defined late

	* Makefile.am, panotypes.h: Add panotypes.h header for 32/64
	bit support

	* m4/ax_check_graphics.m4, configure.ac: Small fixes for darwin
	platform

2005-05-01 14:41:18  dwilkins42  (dwilkins42)

	* PTDialogs.c, multilayer.c, pteditor.c, resample.c: Supress
	unused parameter warning on msvc.

	* sys_win.h: Correct function declarations.

	* sys_win.c: Correct function declarations. remove unused local
	variables. Supress unused parameter warning on msvc.

	* ptpicker.c: Update function declaration. Supress unused
	parameter warning on msvc

	* optimize.c: Remove redundant function declaration

	* lmdif.c: Update function declarations. Remove redundant function
	declarations. Supress unused parameter warnings on msvc

	* file.c: Replace (char)255 with 0xFF so that msvc won't complain

	* correct.c: Initialise a few more variables.

	* adjust.h: Add one more function declaration

	* adjust.c: Initialise variables. Correct typing error. Update
	function declaration

2005-04-30 18:55:27  dwilkins42  (dwilkins42)

	* queryfeature.c: Add note in queryfeature if java support
	is disabled

	* Makefile.am: Add msvc files to autotools

	* libpano.vcproj, pano12vc.def, pano12vcd.def: Add project file
	for msvc and support files

	* resample.c: Fix cast-as-lvalue warning. Add function
	declarations. Ensure all variables initialised. Remove unused
	variables. Fix cast scope. Fix fprintf format string

	* ptpicker.c: Correct sprintf format strings

	* lmdif.c: Correct function declarations. Remove unused
	variables. Remove redundant functions

	* fourier.c: Remove unused variables. Comment out unused code

	* filter.c: Ensure variables initialised. Fix cast scope

	* file.c: Fix multi-character char const warning. Remove unused
	variables. Fix signed/unigned comparison warnings

	* adjust.c: Add function declarations. Ensure variables
	initialised. Comment out unused code. Correct sprintf format
	string

	* adjust.h: Add new header

	* fftn.c: Fix signed/unsigned warnings

	* correct.c: Fix cast-as-lvalue error. Ensure all variables
	initialised

	* Makefile.am: Add new files to automake system

	* optimize.c: Remove unused variables. Add function declarations

	* ptpicker.c: Remove unused variable

	* parser.c: Add function declarations. Correct printf/scanf
	format definitions. Add default case to switch statement

	* ZComb.c, ZComb.h, tiff.c: Move Z combining code to it's own
	files. Fix parameter declaration in tiff.c

	* pteditor.c, ptpicker.c, resample.c, adjust.c, lmdif.c: Remove
	#pragma unused (not used by gcc or msvc)

	* tools/PTOptimizer.c: Remove unused variables. Add explicit
	function declaration

	* sys_win.h: Correct parameter declaration

	* sys_ansi.c: Remove unused variable

	* remap.c: Add explicit variable initialisation

	* pteditor.c: Add explicit function declaration

	* png.c: Fix data type. Fix Optimise bug

	* Triangulate.c: Remove unused variable

2005-04-22 15:30:14  dwilkins42  (dwilkins42)

	* javastub.c: Required for --without-java support

	* pano12.rc: Correct rc language version (messages are in english
	not german)

	* Makefile.am, configure.ac: Add --without-java support

